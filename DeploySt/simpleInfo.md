# 배포에 대해.
> 참고 : https://onlywis.tistory.com/10 <br>
<br>
그냥 내용을 조금 참고하면 괜찮을 듯 싶다.   
여기서 말하는 세가지 전략을 읽어봤는데,   
<br>
지금까지 진행한 프로젝트의 서버는 많아야 2대였고,   
2020년에 진행한 프로젝트의 운영서버 배포전략은 1번에 가까웠다.   
<br>
1번 내리고 배포,   
<br>
끝나면(정상동작확인하면)   
<br>
2번 내리고 배포,   
<br>
끝.
<br>
정말 짧은시간이지만, 서버가 2대에서 1대로 용량이 줄면,   
막 500에러가 터져나왔다.   
업무 컨테이너는 괜찮은데,   
AppShield가 사정없이 터지더라.   
<br>
2번이나 3번전략은 사용한 걸 본적이없다.   
<br>
2번전략의 반쪽짜리로는   
2020년을 제외한 다른 프로젝트에서 써먹던 전략이다.   
<br>
jenkins를 사용하여   
가장 최상위에 공통Jar 빌드/배포 환경을 설정하고,
'▶'를 누르면,   
빌드가 이루어 지고,   
이 놈이 빌드가 끝나면, 하위의 빌드/배포를 유발시켜서 2개 서버가 동시에 빌드/배포가 이루어지게 설정한다.   
<br>
이러면 서버가 모두 일제히 내려가니, 잠시동안은 접속이 불가능하다. (거의 2분정도?)   
그렇게 때문에, 운영환경이 아니라면 서버를 일제히 내리는 전략은 사용하지 않는다.   
정말 사용율이 드문 새벽에 서버를 일제히 내렸다가,   
결제하던 고객이 딱 한명이라도 있으면, 그건 장애이니깐   
<br>
일제히 내리는 전략은 딱, 검증계까지 용도이다.   
<br><br>
3번 전략은 할 수만 있으면 괜찮을 것 같다.   
새로 배포한 서버에 일부 트래픽만 흘려서, 문제 있으면 틀어막으면 되니까.   
근데, 금융권에서 이렇게 하는 곳이 있나... SS카드사도 이렇게는 안하는데.   
